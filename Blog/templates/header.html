<!DOCTYPE html>
<html lang="en">

<head>

   <meta charset="utf-8">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
   <meta name="description" content="">
   <meta name="author" content="">

   <title>People Blogs</title>
   {% if current_user.is_authenticated %}
   <script> const userId = {{current_user.id}};</script>
   {% else %}
   <script> const userId = false</script>
   {% endif %}
   <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"
           integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
   <script defer src="{{ url_for('static', filename='js/header.js') }}"></script>
   <script defer src="{{url_for('static', filename='js/popUp.js')}}"></script>
   <script defer type="module" src="{{url_for('static', filename='js/infoSystem.js')}}"></script>
   <script defer type="module" src="{{url_for('static', filename='js/chatSystem.js')}}"></script>
   <!-- Bootstrap core CSS -->
   <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">

   <!-- Custom fonts for this template -->
   <link href="{{ url_for('static', filename='vendor/fontawesome-free/css/all.min.css')}}" rel="stylesheet"
         type="text/css">
   <link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet'
         type='text/css'>
   <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
         rel='stylesheet' type='text/css'>

   <!-- Custom styles for this template -->
   <link href="{{ url_for('static', filename='css/clean-blog.min.css')}}" rel="stylesheet">

   <!-- creating a global variable in js of the base url of the application (for all js files) -->
   <!--   <script>-->
   <!--         let SCRIPT_ROOT = {{ request.script_root|tojson }} -->
   <!--   </script>-->


</head>
{% if DARKMODE: %}
<script>
   document.documentElement.style.setProperty("--anchor-color", "white");
   document.documentElement.style.setProperty("--color-darkMode", "black");
   document.documentElement.style.setProperty("--color-darkModeText", "white");
   const darkMode = true;







</script>
<body class="background dark-mode-active">
{% else %}
<script>
   document.documentElement.style.setProperty("--anchor-color", "212529");
   document.documentElement.style.setProperty("--color-darkMode", "white");
   document.documentElement.style.setProperty("--color-darkModeText", "black");
   const darkMode = false;







</script>
<body class="background">
{% endif %}

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
   <div class="container">
      <a class="navbar-brand" href="{{url_for('home_page')}}">People Blogs</a>

      <div class="justify-content-end">
         <a class="nav-link btn-notification" id="notification-bell" type="submit">üîî
         </a>
         <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
                 data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
                 aria-label="Toggle navigation" style="margin-top: 2px;"> Menu
            <i class="fas fa-bars"></i>
         </button>

      </div>
      <div class="collapse navbar-collapse" id="navbarResponsive">
         <ul class="navbar-nav ml-auto">
            {% if current_user.is_authenticated: %}
            <li class="nav-item active">
               <a class="nav-link" href="{{url_for('profile', user_id=current_user.id)}}"
                  style="font-size: medium; color: #395B64;">{{current_user.name}} üëã</a>
            </li>
            {% endif %}
            <li class="nav-item">
               <a class="nav-link" href="{{ url_for('home_page') }}">Home</a>
            </li>
            {% if not current_user.is_authenticated: %}
            <li class="nav-item">
               <a class="nav-link" href="{{ url_for('login') }}">Login</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" href="{{ url_for('register') }}">Register</a>
            </li>
            {% else: %}
            <li class="nav-item">
               <a class="nav-link" href="{{ url_for('logout') }}">Log Out</a>
            </li>
            {% endif %}
            <li class="nav-item">
               <a class="nav-link" href="{{ url_for('about') }}">About</a>
            </li>
            <li class="nav-item">
               <a class="nav-link" href="{{ url_for('contact') }}">Contact</a>
            </li>
            <li class="nav-item">
               {% if not DARKMODE: %}
               <a class="nav-link light-btn" style="cursor: pointer;">üåôDark Mode</a>
               {% else %}
               <a class="nav-link light-btn" style="cursor: pointer;">üåûLight Mode</a>
               {% endif %}
            </li>
         </ul>
      </div>
   </div>
</nav>

<!--CHAT MODEL-->
<div class="modal chat-modal edit-modal" id="chat-modal" style="color: black;">
   <div class="modal-header chat-header">
      <div class="title">
         <div class="btn-group" role="group" aria-label="Basic outlined example">
            <button type="button" id="chat-button-title" class="btn btn-outline-primary title-btn">Chat</button>
            <button type="button" id="friends-button-title" class="btn btn-outline-primary title-btn">Friends</button>
         </div>
      </div>
      <button data-close-button class="close-button">&times;</button>
   </div>

   <div class="chat-modal-body" id="chat-body">
      <div class="chat-container">
         <div class="row chat-row" style="margin-right: 0;">
            <div class="col-3 friends">
               <div class="btn-group-vertical btn-group-friends" id="friends">

               </div>
            </div>
            <div class="col-9 chat-area" id="chat-area" style="height: 80%;">
               <p style="display: flex;justify-content: space-around;">Choose a friend to message</p>
            </div>
         </div>
      </div>
   </div>

   <div class="friend-modal-body hidden" id="friends-body">
      <div class="row search-friends-row">
         <div class="col input-group friends-search-col">
            <input class="form-control bar-search" id="friends-input" type="text" autocomplete="off"
                   placeholder="Search For a New Friend">
            <button class="btn btn-outline-info btn-search" type="submit" id="friends-submit">üîç
            </button>
         </div>
      </div>
      <div class="container overflow-auto" id="friends-container">

      </div>
   </div>

</div>


<div id="overlay"></div>

<!--Notifications MODEL-->
<div class="modal chat-modal overflow-auto" id="notification-modal" style="color: black;">
   <div class="modal-header">
      <div class="title">Notifications</div>
      <button data-close-button class="close-button">&times;</button>
   </div>

   <div class="modal-body overflow-auto">
      <div class="cotainer">
         <div id="notifications-container">

         </div>
      </div>
   </div>
</div>

<!--CONFIRMATION MODEL-->

<div class="modal" id="modal" style="color: black;">
   <div class="modal-header">
      <div class="title">Confirmation</div>
      <button data-close-button class="close-button">&times;</button>
   </div>

   <div class="modal-body">
   </div>
</div>

{% if current_user.is_authenticated %}
<div class="chat-btn-container">
   <button class="btn btn-primary btn-chat" id="chat-btn">üí¨</button>
</div>
{% endif %}

<script>
    window.onbeforeunload = function () {
        socket.emit('offline', {'id': {{current_user.id}}});
    }
</script>